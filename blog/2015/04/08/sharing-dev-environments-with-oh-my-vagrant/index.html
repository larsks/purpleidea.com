<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="James Shubin">

	<title>Sharing dev environments with Oh-My-Vagrant - https://purpleidea.com/</title>
	<link rel="canonical" href="https://purpleidea.com/blog/2015/04/08/sharing-dev-environments-with-oh-my-vagrant/">

	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/font-awesome.css" rel="stylesheet">
	<link href="/css/custom.css" rel="stylesheet">
	<link href="/css/staticman.css" rel="stylesheet">

	
</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle Navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://purpleidea.com/">purpleidea.com</a>
			</div>
			<div class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav">

					<li><a href="/about/">about</a></li>
					<li><a href="/blog/">blog</a></li>
					<li><a href="/contact/">contact</a></li>
					<li><a href="/misc/">misc</a></li>
					<li><a href="/talks/">talks</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

	<div class="row">
		<div class="col-md-9">
			<div class="well well-sm">
					<h3><strong>Sharing dev environments with Oh-My-Vagrant</strong><br><small></small></h3>
					<hr>
					<p>With <a href="https://github.com/purpleidea/oh-my-vagrant">Oh-My-Vagrant</a> (omv) you can set up a dev environment in seconds. (Read the <a href="/blog/2014/09/03/introducing-oh-my-vagrant/">omv introduction</a> if you&rsquo;ve never used it before!) Since everything is defined in a single <code>omv.yaml</code> file, it is easy to share your cluster prototype with a friend! The one missing feature was associating code with this config file. This is now possible! Let me show you how it works&hellip;</p>

<p>In the <code>omv.yaml</code> file there is an <code>extern</code> variable. It is a list of each <em>external</em> repository which you&rsquo;d like to include. Each element in this list is a hash of key value pairs. Currently four are supported: <em>type</em>, <em>system</em>, <em>repository</em>, <em>directory</em>.</p>

<p>An example will help you visualize this:</p>

<pre><code>---
:domain: example.com
:network: 192.168.123.0/24
:image: fedora-21
:extern:
- type: git
  system: ansible
  repository: https://github.com/eparis/kubernetes-ansible
  directory: kubernetes
:reallyrm: true
</code></pre>

<p>In this example, we list one external repository. It is of type <em>git</em>, it is intended for use with the <em>ansible</em> integration provided by omv, the repository is hosted by <em>eparis</em>, and we&rsquo;ll store this in a local directory called <em>kubernetes</em>.</p>

<p>We currently only support git repositories, but patches for other systems are welcome. A few different &ldquo;systems&rdquo; are supported, including <em>puppet</em>, <em>docker</em> and <em>kubernetes</em>. They each integrate with omv, and, as a result can pull code and modules into the appropriate places. Any repository path that is valid is acceptable (including local file paths) and lastly, the directory you choose is entirely up to you!</p>

<p>The most important part that I need to mention is the <code>reallyrm</code> variable. If this is set to true, and you remove a git repository from the list, omv will make sure that it removes it! Since some users might not expect this behaviour, it defaults to <em>false</em>, and shouldn&rsquo;t bite you! If you&rsquo;re not comfortable with it, don&rsquo;t use it! I find it incredibly helpful.</p>

<p>Here&rsquo;s a small screencast to show you some examples of this in action:</p>

<p><a href="https://dl.fedoraproject.org/pub/alt/purpleidea/screencasts/oh-my-vagrant-extern-screencast.ogv">oh-my-vagrant-extern-screencast.ogv</a></p>

<p>I hope you enjoyed this. Please share and enjoy, and I&rsquo;ll be back soon to explain some more of the features! <a href="https://github.com/purpleidea/oh-my-vagrant/blob/master/DOCUMENTATION.md">Documentation</a> patches are appreciated!</p>

<p>Happy hacking,</p>

<p>James</p>

			</div>
		</div>

		
		<div class="col-md-3">
			<div class="well well-sm"> 
				<h4>April 8, 2015<br>
				<small>346 words</small></h4>
				<hr>
				<strong>Categories</strong>
				<ul class="list-unstyled">
				
					<li><a href="/categories/technical">technical</a></li>
				
				</ul>
				<hr>
				<strong>Tags</strong><br>
				<a class="label label-default" href="/tags/ansible">ansible</a> <a class="label label-default" href="/tags/devops">devops</a> <a class="label label-default" href="/tags/docker">docker</a> <a class="label label-default" href="/tags/fedora">fedora</a> <a class="label label-default" href="/tags/git">git</a> <a class="label label-default" href="/tags/gluster">gluster</a> <a class="label label-default" href="/tags/kubernetes">kubernetes</a> <a class="label label-default" href="/tags/oh-my-vagrant">oh-my-vagrant</a> <a class="label label-default" href="/tags/planetdevops">planetdevops</a> <a class="label label-default" href="/tags/planetfedora">planetfedora</a> <a class="label label-default" href="/tags/planetpuppet">planetpuppet</a> <a class="label label-default" href="/tags/puppet">puppet</a> <a class="label label-default" href="/tags/screencast">screencast</a> 
				
				<hr>
				<strong>Original URL</strong><br>
				<a href="https://ttboj.wordpress.com/2015/04/08/sharing-dev-environments-with-oh-my-vagrant/"><small>https://ttboj.wordpress.com/2015/04/08/sharing-dev-environments-with-oh-my-vagrant/</small></a>
				

				
			</div>
				<div class="panel panel-default">
		<div class="panel-heading" style="padding: 2px 15px;">
			<h4>Oh hello...</h4>
		</div>
		<div class="panel-body">

			<a href="https://twitter.com/purpleidea" class="btn btn-info btn-xs"><i class="fa fa-twitter-square fa-2x"></i></a>


			<a href="https://github.com/purpleidea/" class="btn btn-primary btn-xs"><i class="fa fa-github-square fa-2x"></i></a>



			<div class="alert alert-info alert-dismissable" style="margin-top:25px;margin-bottom:5px;">
				<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
				<strong>Hey, hacker!</strong><br>
				You should follow me to get new updates!
			</div>
		</div>
	</div>

		</div>
	</div>

	<div class="row">
		<hr>

	<a name="comments"></a>
<section class="post-comments">
	<h3>Comments</h3>






	


	<p>Nothing yet.</p>

	<hr />
	<a name="comment"></a>
	<h3>Post a comment</h3>
	<form class="post-new-comment" method="POST" action="https://api.staticman.net/v2/entry/purpleidea/purpleidea.com/master/comments">
		<input type="hidden" name="options[redirect]" value="https://purpleidea.com/blog/2015/04/08/sharing-dev-environments-with-oh-my-vagrant/#comment-submitted">
		<input type="hidden" name="options[entryId]" value="blog/2015/04/08/sharing-dev-environments-with-oh-my-vagrant">
		<div class="col-md-9">
			<div class="row">
				<textarea name="fields[message]" style="width: 80%; height: 50px;" class="post-comment-field" placeholder="Please enter your comment here..." rows="10"></textarea><br />
			</div>
			<div class="row">
				<input name="fields[name]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your name">
			</div>
			<div class="row">
				<input name="fields[email]" type="email" style="width: 50%;" class="post-comment-field" placeholder="Your email address">
			</div>
			<div class="row">
				<input name="fields[url]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your website">
			</div>
			<div class="row">
				<input type="submit" style="width: 80%;" class="post-comment-field btn btn-primary btn-xs" value="Submit">
			</div>
		</div>
	</form>
</section>

<div id="comment-submitted" class="dialog">
	<hr />
	<h3>Thank you</h3>
	<p>Your comment has been submitted and will be published if it gets approved.</p>
	<p><a href="https://github.com/purpleidea/purpleidea.com/pulls">Click here</a> to see the patch you generated.</p>
	<p><a href="#" class="btn">OK</a></p>
</div>

	</div>
		<footer>
		<div class="row">
			<hr>
			<div class="col-sm-12">
				<p>
				&copy; James Shubin 2018 &middot;
				<a href="https://purpleidea.com/">https://purpleidea.com/</a> &middot;
				<a href="https://github.com/purpleidea/purpleidea.com/blob/master/content/blog/2015/04/08/sharing-dev-environments-with-oh-my-vagrant.md" style="color:grey">Edit this page</a>
				</p>
			</div>
		</div>
		</footer>
	</div>

	<script src="/js/jquery-1.11.3.min.js"></script>
	<script src="/js/bootstrap.js"></script>
</body>
</html>

